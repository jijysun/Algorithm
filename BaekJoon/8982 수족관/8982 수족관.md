# 8982 수족관

# 문제 소개

https://www.acmicpc.net/problem/8982

- 복잡한 모양의 수족관이  주어진다. 이는 4개 이상의  꼭짓점으로 입력, 표현된다.
    - 또한 이 수족관에는 물이 가득차 있다.
- 해당 수족관의 바닥에 1개 이상의 구멍이 뚫릴 수 있다! 이 경우 차있는 물이 빠져나간다.
    - 구멍은 항상 수평 선분에만 + 수평 선분의 한 가운데에 존재
    - 한 수평 선분에는 한 구멍만 존재 가능하다.
    - 구멍이 발생한 경우 그 수평선분이 위치한 가로줄보다 위에 있으면서 중력에 따라 구멍으로 흘러 들어갈 수 있는 위치에 있는 물은 모두 그 구멍을 통해 외부로 배출된다.
- 이렇게 구멍이 생기고 나서, 빠져나간 후의 수족관에 남아있는 물의 양을 구하는 문제이다!

입력이 조금 복잡할 수 있긴 한데

- N 만큼 수족관의 꼭짓점이 주어진다. (N은 항상 짝수)
    - 수족관 꼭짓점 입력은 무조건 0 0 으로 시작한다, 꼭짓점 입력은 X 0 형태로 끝난다.
    - 수직선으로 시작, 수평선 → 수직선  번갈아가면서 입력되고, 수평선 입력으로 종료된다. 
    즉 수직선이 수평선 보다 항상 하나 더 많다.
    - 세로줄과 가로줄 번호의 범위는 0 이상 40,000 이하의 정수이다
- M 만큼 수평선분의 양 꼭짓점 x1 Y x2 Y 가 주어진다. 이 사이에 구멍이 존재한다는 뜻이다.
    - 각 점 좌표의 값은 1 ≤ k ≤ N/2 으로 주어진다.
    - 항상 x1 < x2 인 채로 값이 주어진다.

출력은 단 하나

- 물이 구멍을 통해 빠져 나간 후 수족관에 남은 물의 양을 0 이상의 정수로 출력한다.

# 초기 접근 방법

- 구현의 문제인 것 같다. 뭔가 따로 DFS BFS 탐색까지도 필요 없을 것 같고,

문제 풀이를 위한 초점 = 어쨌든 구멍인 것 같다.

- 대신 순서가 필요한 듯? 높은 구멍 순서 부터 주루룩
    - 따로 높은 위치의 구멍부터 주어진다는 조건은 없었으므로,  높은 구멍 기준 부터 시작해서 X1 Y X2 Y 로 정렬해야 한다.
    - 해당 Y에 대한 다른 수직 선분을 찾는다.
        - 만약 없는 경우, 즉 최우측 좌측 벽을 만난 경우 상관 없이 0~MAX(X) 이면서Y 이상의 물이 빠진다.
        - 만약 있는 경우 해당 수직선분 사이이면서  Y 이상의 물이 빠진다

물을 빼는 연산에 대한 고민

- 아마 2차원 배열로 해당 문제를 풀게 될 것
    - 0 = 비어 있음, 1 = 차있음
- 순서를 고민하자면
    1. 구멍을 발견한다.
        - 좌우측 만나게 되는 수직선을 찾는다.
    2. 좌우측 수직선 사이에서 해당 구멍의 Y 부터 이전 구멍의 Y 까지의 물을 뺀다
        - 첫 연산, 이전 구멍이 없는 경우 Y 는 0, 
        즉 높이는 0 부터 현재의 Y 사이의 물이 빠진다.
        - 이후 연산은 저장된 이전 구멍에 대한 Y를 참조한다.
    3. 이후 이전 구멍을 저장한다. 이는 Y 값 참조를 위해 사용한다. 
- 그래서 물은 어떻게 계산?
    - 전체 칸의 갯수를 구하는 연산이 필요할 것 같다.
    - 0, 1을 만들어서 물이 비고 찼음을 표현하는 것은 데이터 값이 커질 때, 2차원 배열 표현 기준 1→0 바꾸는 연산이 매우 비효율적이라 생각된다.
    - 전체 칸 갯수 구하는 건 수족관 꼭짓점 구할 때 같이 구한다
        - (수직선, 수평선) or (수평선, 수직선) 이렇게 한 세트씩 주어질 때,
        세로로 긴 직사각형을 매번 구할 수 있다. 이를 통해 꽉 찼을 때의 수족관 물 양을 구할 수 있다.

# 풀이 과정

- 변수 및 라이브러리 사용 이유

- 조건부 해석 이유

# 결과 & 근거

- 성공 또는 실패
- 그에 대한 이유